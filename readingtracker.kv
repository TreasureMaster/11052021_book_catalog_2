#:kivy 2.3.0
<BookButton>:
    text: ''
    size_hint_y: None
    text_size: self.width, None
    halign: 'center'

<BookLabel>:
    text: ''
    size_hint_y: None
    font_size: 20
    height: dp(50)

# Расширенное объявление меток
# (только для информации, не обрабатывается kivy)
<HeadLabel@BookLabel>:
    text: ''

<WarningLabel@BookLabel>:
    text: ''

<Content>
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "180dp"

    MDTextField:
        id: book_author
        hint_text: "Автор"

    MDTextField:
        id: book_title
        hint_text: "Название"

    MDTextField:
        id: book_page
        hint_text: "Количество страниц"

# Главный блок
<MainBox>:
    id: main_box
    # spinner: f_spin
    maingrid: f_grid
    recycle: f_rec
    headlabel: f_head
    warnlabel: f_warn
    # Левый блок
    # BoxLayout:
    #     orientation: 'vertical'
    #     size_hint_x: 1
    #     Label:
    #         text: 'Сортировать по:'
    #         font_size: 16
    #         size_hint_y: None
    #         height: dp(50)
    #     # Выпадающий список выбора сортировки
    #     Spinner:
    #         id: f_spin
    #         text: 'Автору'
    #         values: ('Автору', 'Названию', 'Страницам', 'Прочитано')
    #         on_text: root.building_grid(f_spin, f_spin.text)
    #     # Ввод новой книги
    #     Label:
    #         text: 'Добавить новую книгу...'
    #         font_size: 16
    #     Label:
    #         text: 'Название:'
    #     TextInput:
    #         id: add_title
    #         text: ''
    #         on_text: root.text_control(add_title)
    #     Label:
    #         text: 'Автор:'
    #     TextInput:
    #         id: add_author
    #         text: ''
    #         on_text: root.text_control(add_author)
    #     Label:
    #         text: 'Страниц:'
    #     TextInput:
    #         id: add_pages
    #         text: ''
    #         on_text: root.text_control(add_pages)
    #     # Кнопка добавления книги
    #     Button:
    #         text: 'Добавить книгу'
    #         on_press: root.add_book(add_title, add_author, add_pages)
    #     # Кнопка очистки полей ввода
    #     Button:
    #         text: 'Очистить'
    #         on_press: root.clear_addfields(add_title, add_author, add_pages)
    # Правый блок
    MDBoxLayout:
        orientation: 'vertical'
        size_hint_x: 3
        # Верхняя надпись
        MDFloatLayout:
            # MDRaisedButton:
            MDIconButton:
                # text: '+'
                # icon: 'plus-circle-outline'
                # icon: 'card-plus'
                # icon: 'plus-box'
                # icon: 'plus-thick'
                icon: 'layers-plus'
                # theme_icon_color: "Custom"
                # icon_color: app.theme_cls.primary_color
                md_bg_color: app.theme_cls.primary_color
                pos_hint: {'top': 1}
                on_release: app.show_confirmation_dialog()
                # size_hint_x: .2
        HeadLabel:
            id: f_head
            # size_hint_x: .8
        # Список книг
        RecycleView:
            id: f_rec
            size_hint: 1, None
            GridLayout:
                id: f_grid
                cols: 1
                spacing: 10
                size_hint_y: None
        # Нижняя надпись
        # BoxLayout:
        WarningLabel:
            id: f_warn
            text: "Добро пожаловать в Reading Tracker 2.0!"
            # size_hint_x: .8
            # on_text: root.building_grid(f_spin, f_spin.text)
        # MDRaisedButton:
        MDFloatingActionButtonSpeedDial:
            id: f_sort
            icon: "sort"
            # callback: app.callback
            data: app.data
            # data: {'Автору': 'face-man-outline', 'Названию': 'bookshelf', 'Страницам': 'book-open-page-variant','Прочитано': 'check-bold'}
            size_hint_x: .2
            label_text_color: [0, 1, 1, .8]
            # hint_animation: True
            # root_button_anim: True
            # right_pad: False
            # label_bg_color: "orange"
            # text: 'Сорт'
            # size_hint_x: .2
            # pos_hint: {"center_x": .5, "center_y": .5}
            # pos_hint: {"center_x": .5, "top": 1}
            # on_press_stack_button: app.callback(f_sort)
            # on_release_stack_button: app.callback(f_sort)
